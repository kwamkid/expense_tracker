2025-04-27 08:05:19,174 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 08:05:19,174 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 08:05:19,225 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 08:05:19,246 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 08:05:48,225 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 08:05:48,225 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 08:05:48,258 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 08:05:48,266 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 08:05:54,945 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'POS.png' ('image/png')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 08:05:54,945 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 96547
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: ImU5MTQ5NTY0ZTRiMzRmMDlhNzVjYzUwNDgxY2U3MGJkM2Q2ZGU1YmQi.aA2C8A.cPVcpLL0jqLmuFus_DRIfnEZYfY
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryHtAyVGrzLX6k2z8X
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/transactions/create
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Cookie: session=.eJwlzjtqw0AUQNG9TJ1i3l_jzYiZ98EmkIBkVyF7t0jKW1w4P22vI897uz2PV360_RHt1nKkj0SdPSa5dEQ2dKMQJrbBEdDDjAGNK4aOTddCLwgJnprX5qpZhmJaZWIQatcl4AhECOaLgDtVr8lhW1n2xbUFktBsF-R15vGvgSv9PGp_fn_m1x8PeIhy8iKuPqaJX0rewNP6CgqNlBXt9w2tGj8d.aA1_kA.VAwjde5yHvCLVnvbD09YFef0zho

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 08:05:54,946 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/ddaf0dea6162471f8e93d86df3a8992e_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 08:05:54,946 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 08:05:54,946 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/ddaf0dea6162471f8e93d86df3a8992e_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 08:05:54,978 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/ddaf0dea6162471f8e93d86df3a8992e_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 08:05:54,986 INFO: OCR: Processing image with size 363x1024 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 08:05:54,986 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 08:05:54,986 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
2025-04-27 08:05:55,923 INFO: OCR: First pass result length: 760 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:283]
2025-04-27 08:05:55,924 INFO: OCR: Results saved to /Users/ampstark/expense_tracker/app/logs/ocr_result_20250427_080555.txt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:338]
2025-04-27 08:05:55,924 INFO: Extracting all data from receipt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:528]
2025-04-27 08:05:55,924 INFO: Full OCR text:
บริษัท โฟลว์แอคเคาห์ จํากัด   : ล
141/12 ขั้น 11ยูนิต %28อฮาคารชุด สกุลไทย สุรวงศ์
ทาวเวอร์ ถนนสุรวงศ์ แขวงสุริยวงศ์ เขตบางรัก |
'กรุงเทพมหานคร 10500. ] ว 1
เลขผู้เสียภาษี 1234567890000  : if
เว็บไซต์ www.examplecom ว :::
ใบกํากับภาษี่อย่างย่อ/ใบเสร็จรับงิน : : 1
¢A2019070001     a 0
พนักงานขาย:) สมชาย. ใจดี 1 1:
วันที่     . อมงย2019 อ) :! 1
41 ~~ Double A Copier Paper. Ad             -     8:000.00
100. Staples (24/Pack) Max i0-:    | :2,000.00
:แถ่ Desk FurradexEX2590 : :   | 8300.00
จ้านวนรวม.:111      : :    า   : iH
.     รวมเป็นเงิน      : .10,300.00
     ส่วนลด    | 300.00
จํานวนเงินหลังหักส่วนลด       : 10,000.00.
ภาษีมูลค่าเพิ่ม7%    654.21,
ราคาไม่รวมภาษีมูลค่าเพิ่ม   | 9,345:79
| รรวมทังสืน   10,000.00
ใช้งาน POS WELAA FlowAccount.com :ะ
 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:529]
2025-04-27 08:05:55,924 INFO: Detected FlowAccount receipt, using specialized extraction [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:533]
2025-04-27 08:05:55,925 INFO: Extracted data: {'date': None, 'total_amount': 10000.0, 'vendor': 'บริษัท โฟลว์แอคเคาห์ จํากัด', 'items': [], 'receipt_no': None} [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:562]
2025-04-27 08:05:55,925 INFO: OCR processing complete. Data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "items": [], "receipt_no": null} [in /Users/ampstark/expense_tracker/app/views/api.py:70]
2025-04-27 08:05:55,925 INFO: Saved API response log to: /Users/ampstark/expense_tracker/app/logs/ocr_api_response_20250427_080555.json [in /Users/ampstark/expense_tracker/app/views/api.py:98]
2025-04-27 08:05:55,925 INFO: OCR API returning success with data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "receipt_no": null, "items": []} [in /Users/ampstark/expense_tracker/app/views/api.py:111]
2025-04-27 10:19:40,153 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:19:40,153 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:19:40,201 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:19:40,239 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:23:19,531 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:23:19,531 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:23:19,581 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:23:19,607 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:24:11,096 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:24:11,097 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:24:11,132 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:24:11,141 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:24:40,859 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:24:40,859 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:24:40,901 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:24:40,921 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:24:41,246 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:24:41,246 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:24:41,277 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:24:41,286 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:27:43,309 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:27:43,309 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:27:43,362 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:27:43,385 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:28:04,344 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:28:04,344 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:28:04,395 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:28:04,418 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:28:31,490 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:28:31,494 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:28:31,540 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:28:31,550 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:30:36,202 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:30:36,202 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:30:36,263 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:30:36,306 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:31:22,506 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:31:22,506 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:31:22,544 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:31:22,555 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:35:20,578 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:35:20,579 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:35:20,621 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:35:20,641 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:35:20,986 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:35:20,986 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:35:21,020 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:35:21,028 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:39:41,436 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:39:41,436 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:39:41,537 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:39:41,564 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:43:25,483 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'POS.png' ('image/png')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:43:25,483 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 96547
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2n2Q.jibyPaXSWrAv2RmFErmbgMBgGhs
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary92qHKRs0FwEcsTM3
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:43:25,483 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/850a3e8f75d94c5c9cf52efe6aa7b5ed_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 10:43:25,483 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 10:43:25,483 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/850a3e8f75d94c5c9cf52efe6aa7b5ed_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 10:43:25,493 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/850a3e8f75d94c5c9cf52efe6aa7b5ed_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 10:43:25,503 INFO: OCR: Processing image with size 363x1024 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 10:43:25,503 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 10:43:25,503 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
2025-04-27 10:43:26,432 INFO: OCR: First pass result length: 760 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:283]
2025-04-27 10:43:26,433 INFO: OCR: Results saved to /Users/ampstark/expense_tracker/app/logs/ocr_result_20250427_104326.txt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:338]
2025-04-27 10:43:26,433 INFO: Extracting all data from receipt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:528]
2025-04-27 10:43:26,433 INFO: Full OCR text:
บริษัท โฟลว์แอคเคาห์ จํากัด   : ล
141/12 ขั้น 11ยูนิต %28อฮาคารชุด สกุลไทย สุรวงศ์
ทาวเวอร์ ถนนสุรวงศ์ แขวงสุริยวงศ์ เขตบางรัก |
'กรุงเทพมหานคร 10500. ] ว 1
เลขผู้เสียภาษี 1234567890000  : if
เว็บไซต์ www.examplecom ว :::
ใบกํากับภาษี่อย่างย่อ/ใบเสร็จรับงิน : : 1
¢A2019070001     a 0
พนักงานขาย:) สมชาย. ใจดี 1 1:
วันที่     . อมงย2019 อ) :! 1
41 ~~ Double A Copier Paper. Ad             -     8:000.00
100. Staples (24/Pack) Max i0-:    | :2,000.00
:แถ่ Desk FurradexEX2590 : :   | 8300.00
จ้านวนรวม.:111      : :    า   : iH
.     รวมเป็นเงิน      : .10,300.00
     ส่วนลด    | 300.00
จํานวนเงินหลังหักส่วนลด       : 10,000.00.
ภาษีมูลค่าเพิ่ม7%    654.21,
ราคาไม่รวมภาษีมูลค่าเพิ่ม   | 9,345:79
| รรวมทังสืน   10,000.00
ใช้งาน POS WELAA FlowAccount.com :ะ
 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:529]
2025-04-27 10:43:26,433 INFO: Detected FlowAccount receipt, using specialized extraction [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:533]
2025-04-27 10:43:26,434 INFO: Extracted data: {'date': None, 'total_amount': 10000.0, 'vendor': 'บริษัท โฟลว์แอคเคาห์ จํากัด', 'items': [], 'receipt_no': None} [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:562]
2025-04-27 10:43:26,434 INFO: OCR processing complete. Data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "items": [], "receipt_no": null} [in /Users/ampstark/expense_tracker/app/views/api.py:70]
2025-04-27 10:43:26,434 INFO: Saved API response log to: /Users/ampstark/expense_tracker/app/logs/ocr_api_response_20250427_104326.json [in /Users/ampstark/expense_tracker/app/views/api.py:98]
2025-04-27 10:43:26,434 INFO: OCR API returning success with data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "receipt_no": null, "items": []} [in /Users/ampstark/expense_tracker/app/views/api.py:111]
2025-04-27 10:46:16,294 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:46:16,295 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:46:16,341 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:46:16,361 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:46:30,347 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'POS.png' ('image/png')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:46:30,348 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 96547
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2okg.L9NIdFRjBTjM_gMg_Mllx9GWx4I
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarygWaCSJpRHAurXAH8
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:46:30,350 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/190533e535f94404b89ab73dd46ed0ce_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 10:46:30,350 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 10:46:30,350 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/190533e535f94404b89ab73dd46ed0ce_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 10:46:30,370 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/190533e535f94404b89ab73dd46ed0ce_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 10:46:30,382 INFO: OCR: Processing image with size 363x1024 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 10:46:30,382 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 10:46:30,382 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
2025-04-27 10:46:31,299 INFO: OCR: First pass result length: 760 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:283]
2025-04-27 10:46:31,299 INFO: OCR: Results saved to /Users/ampstark/expense_tracker/app/logs/ocr_result_20250427_104631.txt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:338]
2025-04-27 10:46:31,299 INFO: Extracting all data from receipt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:528]
2025-04-27 10:46:31,299 INFO: Full OCR text:
บริษัท โฟลว์แอคเคาห์ จํากัด   : ล
141/12 ขั้น 11ยูนิต %28อฮาคารชุด สกุลไทย สุรวงศ์
ทาวเวอร์ ถนนสุรวงศ์ แขวงสุริยวงศ์ เขตบางรัก |
'กรุงเทพมหานคร 10500. ] ว 1
เลขผู้เสียภาษี 1234567890000  : if
เว็บไซต์ www.examplecom ว :::
ใบกํากับภาษี่อย่างย่อ/ใบเสร็จรับงิน : : 1
¢A2019070001     a 0
พนักงานขาย:) สมชาย. ใจดี 1 1:
วันที่     . อมงย2019 อ) :! 1
41 ~~ Double A Copier Paper. Ad             -     8:000.00
100. Staples (24/Pack) Max i0-:    | :2,000.00
:แถ่ Desk FurradexEX2590 : :   | 8300.00
จ้านวนรวม.:111      : :    า   : iH
.     รวมเป็นเงิน      : .10,300.00
     ส่วนลด    | 300.00
จํานวนเงินหลังหักส่วนลด       : 10,000.00.
ภาษีมูลค่าเพิ่ม7%    654.21,
ราคาไม่รวมภาษีมูลค่าเพิ่ม   | 9,345:79
| รรวมทังสืน   10,000.00
ใช้งาน POS WELAA FlowAccount.com :ะ
 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:529]
2025-04-27 10:46:31,299 INFO: Detected FlowAccount receipt, using specialized extraction [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:533]
2025-04-27 10:46:31,300 INFO: Extracted data: {'date': None, 'total_amount': 10000.0, 'vendor': 'บริษัท โฟลว์แอคเคาห์ จํากัด', 'items': [], 'receipt_no': None} [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:562]
2025-04-27 10:46:31,300 INFO: OCR processing complete. Data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "items": [], "receipt_no": null} [in /Users/ampstark/expense_tracker/app/views/api.py:70]
2025-04-27 10:46:31,301 INFO: Saved API response log to: /Users/ampstark/expense_tracker/app/logs/ocr_api_response_20250427_104631.json [in /Users/ampstark/expense_tracker/app/views/api.py:99]
2025-04-27 10:46:31,301 INFO: OCR API returning success with data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "receipt_no": null, "items": [], "ocr_text": ""} [in /Users/ampstark/expense_tracker/app/views/api.py:112]
2025-04-27 10:47:21,663 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:47:21,664 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2okg.L9NIdFRjBTjM_gMg_Mllx9GWx4I
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarye2aAEnOaMvi3zj57
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:47:21,664 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:48:13,870 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:48:13,870 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:48:13,918 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:48:13,940 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:48:39,414 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:48:39,415 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pEw.R14behD-7-2kw2FofAazpv3PfrE
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarydQBo7s38LxqxVYLL
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:48:39,416 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:49:48,118 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:49:48,118 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:49:48,168 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:49:48,190 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:50:06,960 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:06,961 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2paw.Ak-GjP1P9e937cBpilOx_IYTrE8
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary4scox53gMPR5NM3G
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:06,961 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:50:20,499 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:50:20,499 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:50:20,530 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:50:20,538 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:50:20,896 INFO: App logging configured [in /Users/ampstark/expense_tracker/app/__init__.py:89]
2025-04-27 10:50:20,896 INFO: Uploads directory: /Users/ampstark/expense_tracker/app/static/uploads/receipts [in /Users/ampstark/expense_tracker/app/__init__.py:33]
2025-04-27 10:50:20,929 INFO: Found Tesseract at: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/__init__.py:112]
2025-04-27 10:50:20,938 INFO: Tesseract version info: tesseract 5.5.0
 leptonica-1.85.0
  libgif 5.2.2 : libjpeg 8d (libjpeg-turbo 3.0.4) : libpng 1.6.47 : libtiff 4.7.0 : zlib 1.2.12 : libwebp 1.5.0 : libopenjp2 2.5.3
 Found NEON
 Found libarchive 3.7.9 zlib/1.2.12 liblzma/5.8.1 bz2lib/1.0.8 liblz4/1.10.0 libzstd/1.5.7
 Found libcurl/8.7.1 SecureTransport (LibreSSL/3.3.6) zlib/1.2.12 nghttp2/1.61.0
 [in /Users/ampstark/expense_tracker/app/__init__.py:116]
2025-04-27 10:50:27,892 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:27,892 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pgA.fqIbH0XGd7r_G7GMQjKVXqQj394
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarytgoU0Wt9bh26BzNw
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:27,892 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:50:34,620 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:34,621 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pgA.fqIbH0XGd7r_G7GMQjKVXqQj394
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryNzromEiACQwOwC4Q
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:34,621 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:50:43,656 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:43,656 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pjQ.PAwMErxIc1bBr0Px4CElQ82Xsk0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryvUgnnX24CqDSVBhW
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:43,656 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:50:46,108 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:46,109 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pjQ.PAwMErxIc1bBr0Px4CElQ82Xsk0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryKmPAoXVPwkKg4lmP
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:46,109 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:50:49,075 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'POS.png' ('image/png')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:49,075 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 96547
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pjQ.PAwMErxIc1bBr0Px4CElQ82Xsk0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryclx4C2EDuD1Qlm8k
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:49,076 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/2bd77ec1ce7d4c7c8542ee3ae4048ea4_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 10:50:49,076 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 10:50:49,076 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/2bd77ec1ce7d4c7c8542ee3ae4048ea4_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 10:50:49,094 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/2bd77ec1ce7d4c7c8542ee3ae4048ea4_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 10:50:49,101 INFO: OCR: Processing image with size 363x1024 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 10:50:49,101 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 10:50:49,101 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
2025-04-27 10:50:50,045 INFO: OCR: First pass result length: 760 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:283]
2025-04-27 10:50:50,046 INFO: OCR: Results saved to /Users/ampstark/expense_tracker/app/logs/ocr_result_20250427_105050.txt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:338]
2025-04-27 10:50:50,046 INFO: Extracting all data from receipt [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:528]
2025-04-27 10:50:50,046 INFO: Full OCR text:
บริษัท โฟลว์แอคเคาห์ จํากัด   : ล
141/12 ขั้น 11ยูนิต %28อฮาคารชุด สกุลไทย สุรวงศ์
ทาวเวอร์ ถนนสุรวงศ์ แขวงสุริยวงศ์ เขตบางรัก |
'กรุงเทพมหานคร 10500. ] ว 1
เลขผู้เสียภาษี 1234567890000  : if
เว็บไซต์ www.examplecom ว :::
ใบกํากับภาษี่อย่างย่อ/ใบเสร็จรับงิน : : 1
¢A2019070001     a 0
พนักงานขาย:) สมชาย. ใจดี 1 1:
วันที่     . อมงย2019 อ) :! 1
41 ~~ Double A Copier Paper. Ad             -     8:000.00
100. Staples (24/Pack) Max i0-:    | :2,000.00
:แถ่ Desk FurradexEX2590 : :   | 8300.00
จ้านวนรวม.:111      : :    า   : iH
.     รวมเป็นเงิน      : .10,300.00
     ส่วนลด    | 300.00
จํานวนเงินหลังหักส่วนลด       : 10,000.00.
ภาษีมูลค่าเพิ่ม7%    654.21,
ราคาไม่รวมภาษีมูลค่าเพิ่ม   | 9,345:79
| รรวมทังสืน   10,000.00
ใช้งาน POS WELAA FlowAccount.com :ะ
 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:529]
2025-04-27 10:50:50,046 INFO: Detected FlowAccount receipt, using specialized extraction [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:533]
2025-04-27 10:50:50,047 INFO: Extracted data: {'date': None, 'total_amount': 10000.0, 'vendor': 'บริษัท โฟลว์แอคเคาห์ จํากัด', 'items': [], 'receipt_no': None} [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:562]
2025-04-27 10:50:50,047 INFO: OCR processing complete. Data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "items": [], "receipt_no": null} [in /Users/ampstark/expense_tracker/app/views/api.py:70]
2025-04-27 10:50:50,047 INFO: Saved API response log to: /Users/ampstark/expense_tracker/app/logs/ocr_api_response_20250427_105050.json [in /Users/ampstark/expense_tracker/app/views/api.py:99]
2025-04-27 10:50:50,047 INFO: OCR API returning success with data: {"date": null, "total_amount": 10000.0, "vendor": "บริษัท โฟลว์แอคเคาห์ จํากัด", "receipt_no": null, "items": [], "ocr_text": ""} [in /Users/ampstark/expense_tracker/app/views/api.py:112]
2025-04-27 10:50:53,219 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.heic' ('image/heic')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:50:53,219 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1226154
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pjQ.PAwMErxIc1bBr0Px4CElQ82Xsk0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryKXypdibagJHBnnVE
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:50:53,220 ERROR: OCR API: Invalid file type: IMG_1460.heic [in /Users/ampstark/expense_tracker/app/views/api.py:44]
2025-04-27 10:52:43,603 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.jpg' ('image/jpeg')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:52:43,603 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1884271
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2pjQ.PAwMErxIc1bBr0Px4CElQ82Xsk0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryQqVGBfh9GQ42l4RP
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/ocr-patterns/test-ocr
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:52:43,613 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/9994cb1440484f73bb224757eb012178_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 10:52:43,614 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 10:52:43,614 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/9994cb1440484f73bb224757eb012178_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 10:52:44,009 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/9994cb1440484f73bb224757eb012178_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 10:52:44,384 INFO: OCR: Processing image with size 2268x4032 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 10:52:44,384 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 10:52:44,384 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
2025-04-27 10:53:18,755 INFO: OCR API request received: ImmutableMultiDict([('receipt', <FileStorage: 'IMG_1460.jpg' ('image/jpeg')>)]) [in /Users/ampstark/expense_tracker/app/views/api.py:25]
2025-04-27 10:53:18,756 INFO: Request headers: Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1884271
Sec-Ch-Ua-Platform: "macOS"
X-Csrftoken: IjdiZTkxOGI5ZmZjMmE4YWYwZTIwYTA1ZTRiZjhjYmJlYTc1ZjQ5YzAi.aA2qKw.PcvdYfJ8nWv94yZC4M9_oEyHIPQ
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
Sec-Ch-Ua: "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary0mt6cpM7TR1q3Jcm
Sec-Ch-Ua-Mobile: ?0
Accept: */*
Origin: http://127.0.0.1:5000
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://127.0.0.1:5000/transactions/create
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9,th;q=0.8
Cookie: session=.eJwljktqQzEMAO_idRaSLFl2LvOw9aEl0MJ7ySrk7jV0OQMD8y5HnnF9lfvzfMWtHN9e7iVG2AhqE3xWEyBiJdPqwpV1sDuCqzKScvpoo7e1yBJdnGeLnVlrkUqiLVNF0ZvuStAIayVUWxUZakJOdu2pAYuzO1Wps-yR1xXn_w1utOvM4_n7iJ8tdMXAvkam0ewzIQgmSPDKbmvFVEkeBuXzB84PQAc.aA18Zw.7MeWj0rixaHDYR1zST42ReTs32M

 [in /Users/ampstark/expense_tracker/app/views/api.py:26]
2025-04-27 10:53:18,757 INFO: Saved receipt image to: /Users/ampstark/expense_tracker/app/static/uploads/receipts/989f0bd9e80c41858b01e05134fa4174_20250427.jpg [in /Users/ampstark/expense_tracker/app/views/api.py:65]
2025-04-27 10:53:18,757 INFO: Starting OCR processing [in /Users/ampstark/expense_tracker/app/views/api.py:68]
2025-04-27 10:53:18,757 INFO: Starting OCR processing for image: /Users/ampstark/expense_tracker/app/static/uploads/receipts/989f0bd9e80c41858b01e05134fa4174_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:578]
2025-04-27 10:53:18,890 INFO: Image preprocessing successful for /Users/ampstark/expense_tracker/app/static/uploads/receipts/989f0bd9e80c41858b01e05134fa4174_20250427.jpg [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:251]
2025-04-27 10:53:19,305 INFO: OCR: Processing image with size 2268x4032 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:273]
2025-04-27 10:53:19,305 INFO: OCR: Tesseract path: /opt/homebrew/bin/tesseract [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:274]
2025-04-27 10:53:19,306 INFO: OCR: Attempting OCR with config: --oem 1 --psm 6 [in /Users/ampstark/expense_tracker/app/services/ocr_service.py:281]
